(function(){var e;e=angular.module("LiveChatController",["firebase"]),e.controller("LiveChatController",["$scope","Auth","currentAuth","UserService","Messages","$location","$firebaseObject","VidService",function(e,a,t,r,i,n,s,o){var u;return u=r,e.id="",e.vidstream=o.vidstream,e.displayName=r.displayName,e.messages=i.all,e.imgsrc=r.imgsrc,e.auth=a,e.auth.$onAuth(function(a){var t,i;return e.authData=a,a&&!a.facebook&&(i=new Firebase("https://myappdatabase1.firebaseio.com/users/"+a.uid),t=s(i),t.$loaded().then(function(){return r.ChangeName(t.firstname+" "+t.lastname),e.displayName=r.displayName})),a.facebook?e.id=a.facebook.id:void 0}),e.sendMsg=function(a){return i.create(a),e.chat.message=""},e.delMsg=function(e){return i["delete"](e)},e.vidstream_on=function(){return o.vid_on()},e.vidstream_off=function(){return o.vid_off()},e.logout=function(){return e.displayName=r,r.imgsrc=null,e.imgsrc=r.imgsrc,e.id="",a.$unauth(),n.path("/login")},e.message="Welcome to the live event!"}])}).call(this);